-- Connect to the pluggable database
ALTER SESSION SET CONTAINER = XEPDB1;

-- Create a test user
CREATE USER testuser IDENTIFIED BY TestPassword123
  DEFAULT TABLESPACE users
  TEMPORARY TABLESPACE temp
  QUOTA UNLIMITED ON users;

-- Grant privileges
GRANT CONNECT, RESOURCE, CREATE VIEW, CREATE SYNONYM TO testuser;
GRANT SELECT ANY TABLE TO testuser;

-- Connect as test user (will be done via connection string)
-- Creating tables as SYSTEM for simplicity, but you can modify to use testuser

-- Create sample employees table
CREATE TABLE testuser.EMPLOYEES (
    EMPLOYEE_ID NUMBER(6) PRIMARY KEY,
    FIRST_NAME VARCHAR2(50),
    LAST_NAME VARCHAR2(50),
    EMAIL VARCHAR2(100),
    PHONE_NUMBER VARCHAR2(20),
    HIRE_DATE DATE,
    JOB_ID VARCHAR2(20),
    SALARY NUMBER(8,2),
    COMMISSION_PCT NUMBER(2,2),
    MANAGER_ID NUMBER(6),
    DEPARTMENT_ID NUMBER(4)
);

-- Create sample departments table
CREATE TABLE testuser.DEPARTMENTS (
    DEPARTMENT_ID NUMBER(4) PRIMARY KEY,
    DEPARTMENT_NAME VARCHAR2(50) NOT NULL,
    MANAGER_ID NUMBER(6),
    LOCATION_ID NUMBER(4)
);

-- Create sample products table
CREATE TABLE testuser.PRODUCTS (
    PRODUCT_ID NUMBER(6) PRIMARY KEY,
    PRODUCT_NAME VARCHAR2(100) NOT NULL,
    CATEGORY VARCHAR2(50),
    PRICE NUMBER(10,2),
    STOCK_QUANTITY NUMBER(6),
    CREATED_DATE DATE DEFAULT SYSDATE
);

-- Insert sample department data
INSERT INTO testuser.DEPARTMENTS (DEPARTMENT_ID, DEPARTMENT_NAME, MANAGER_ID, LOCATION_ID)
VALUES (10, 'Administration', 200, 1700);

INSERT INTO testuser.DEPARTMENTS (DEPARTMENT_ID, DEPARTMENT_NAME, MANAGER_ID, LOCATION_ID)
VALUES (20, 'Marketing', 201, 1800);

INSERT INTO testuser.DEPARTMENTS (DEPARTMENT_ID, DEPARTMENT_NAME, MANAGER_ID, LOCATION_ID)
VALUES (30, 'Purchasing', 114, 1700);

INSERT INTO testuser.DEPARTMENTS (DEPARTMENT_ID, DEPARTMENT_NAME, MANAGER_ID, LOCATION_ID)
VALUES (40, 'Human Resources', 203, 2400);

INSERT INTO testuser.DEPARTMENTS (DEPARTMENT_ID, DEPARTMENT_NAME, MANAGER_ID, LOCATION_ID)
VALUES (50, 'Shipping', 121, 1500);

INSERT INTO testuser.DEPARTMENTS (DEPARTMENT_ID, DEPARTMENT_NAME, MANAGER_ID, LOCATION_ID)
VALUES (60, 'IT', 103, 1400);

-- Insert sample employee data
INSERT INTO testuser.EMPLOYEES (EMPLOYEE_ID, FIRST_NAME, LAST_NAME, EMAIL, PHONE_NUMBER, HIRE_DATE, JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID)
VALUES (100, 'Steven', 'King', 'steven.king@company.com', '515.123.4567', TO_DATE('2003-06-17', 'YYYY-MM-DD'), 'AD_PRES', 24000, NULL, NULL, 10);

INSERT INTO testuser.EMPLOYEES (EMPLOYEE_ID, FIRST_NAME, LAST_NAME, EMAIL, PHONE_NUMBER, HIRE_DATE, JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID)
VALUES (101, 'Neena', 'Kochhar', 'neena.kochhar@company.com', '515.123.4568', TO_DATE('2005-09-21', 'YYYY-MM-DD'), 'AD_VP', 17000, NULL, 100, 10);

INSERT INTO testuser.EMPLOYEES (EMPLOYEE_ID, FIRST_NAME, LAST_NAME, EMAIL, PHONE_NUMBER, HIRE_DATE, JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID)
VALUES (102, 'Lex', 'De Haan', 'lex.dehaan@company.com', '515.123.4569', TO_DATE('2001-01-13', 'YYYY-MM-DD'), 'AD_VP', 17000, NULL, 100, 10);

INSERT INTO testuser.EMPLOYEES (EMPLOYEE_ID, FIRST_NAME, LAST_NAME, EMAIL, PHONE_NUMBER, HIRE_DATE, JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID)
VALUES (103, 'Alexander', 'Hunold', 'alexander.hunold@company.com', '590.423.4567', TO_DATE('2006-01-03', 'YYYY-MM-DD'), 'IT_PROG', 9000, NULL, 102, 60);

INSERT INTO testuser.EMPLOYEES (EMPLOYEE_ID, FIRST_NAME, LAST_NAME, EMAIL, PHONE_NUMBER, HIRE_DATE, JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID)
VALUES (104, 'Bruce', 'Ernst', 'bruce.ernst@company.com', '590.423.4568', TO_DATE('2007-05-21', 'YYYY-MM-DD'), 'IT_PROG', 6000, NULL, 103, 60);

INSERT INTO testuser.EMPLOYEES (EMPLOYEE_ID, FIRST_NAME, LAST_NAME, EMAIL, PHONE_NUMBER, HIRE_DATE, JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID)
VALUES (105, 'David', 'Austin', 'david.austin@company.com', '590.423.4569', TO_DATE('2005-06-25', 'YYYY-MM-DD'), 'IT_PROG', 4800, NULL, 103, 60);

INSERT INTO testuser.EMPLOYEES (EMPLOYEE_ID, FIRST_NAME, LAST_NAME, EMAIL, PHONE_NUMBER, HIRE_DATE, JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID)
VALUES (106, 'Valli', 'Pataballa', 'valli.pataballa@company.com', '590.423.4560', TO_DATE('2006-02-05', 'YYYY-MM-DD'), 'IT_PROG', 4800, NULL, 103, 60);

INSERT INTO testuser.EMPLOYEES (EMPLOYEE_ID, FIRST_NAME, LAST_NAME, EMAIL, PHONE_NUMBER, HIRE_DATE, JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID)
VALUES (107, 'Diana', 'Lorentz', 'diana.lorentz@company.com', '590.423.5567', TO_DATE('2007-02-07', 'YYYY-MM-DD'), 'IT_PROG', 4200, NULL, 103, 60);

INSERT INTO testuser.EMPLOYEES (EMPLOYEE_ID, FIRST_NAME, LAST_NAME, EMAIL, PHONE_NUMBER, HIRE_DATE, JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID)
VALUES (114, 'Den', 'Raphaely', 'den.raphaely@company.com', '515.127.4561', TO_DATE('2002-12-07', 'YYYY-MM-DD'), 'PU_MAN', 11000, NULL, 100, 30);

INSERT INTO testuser.EMPLOYEES (EMPLOYEE_ID, FIRST_NAME, LAST_NAME, EMAIL, PHONE_NUMBER, HIRE_DATE, JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID)
VALUES (121, 'Adam', 'Fripp', 'adam.fripp@company.com', '650.123.2234', TO_DATE('2005-04-10', 'YYYY-MM-DD'), 'ST_MAN', 8200, NULL, 100, 50);

INSERT INTO testuser.EMPLOYEES (EMPLOYEE_ID, FIRST_NAME, LAST_NAME, EMAIL, PHONE_NUMBER, HIRE_DATE, JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID)
VALUES (200, 'Jennifer', 'Whalen', 'jennifer.whalen@company.com', '515.123.4444', TO_DATE('2003-09-17', 'YYYY-MM-DD'), 'AD_ASST', 4400, NULL, 101, 10);

INSERT INTO testuser.EMPLOYEES (EMPLOYEE_ID, FIRST_NAME, LAST_NAME, EMAIL, PHONE_NUMBER, HIRE_DATE, JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID)
VALUES (201, 'Michael', 'Hartstein', 'michael.hartstein@company.com', '515.123.5555', TO_DATE('2004-02-17', 'YYYY-MM-DD'), 'MK_MAN', 13000, NULL, 100, 20);

INSERT INTO testuser.EMPLOYEES (EMPLOYEE_ID, FIRST_NAME, LAST_NAME, EMAIL, PHONE_NUMBER, HIRE_DATE, JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID)
VALUES (203, 'Susan', 'Mavris', 'susan.mavris@company.com', '515.123.7777', TO_DATE('2002-06-07', 'YYYY-MM-DD'), 'HR_REP', 6500, NULL, 101, 40);

-- Insert sample product data
INSERT INTO testuser.PRODUCTS (PRODUCT_ID, PRODUCT_NAME, CATEGORY, PRICE, STOCK_QUANTITY)
VALUES (1001, 'Laptop Pro 15', 'Electronics', 1299.99, 45);

INSERT INTO testuser.PRODUCTS (PRODUCT_ID, PRODUCT_NAME, CATEGORY, PRICE, STOCK_QUANTITY)
VALUES (1002, 'Wireless Mouse', 'Electronics', 29.99, 150);

INSERT INTO testuser.PRODUCTS (PRODUCT_ID, PRODUCT_NAME, CATEGORY, PRICE, STOCK_QUANTITY)
VALUES (1003, 'USB-C Hub', 'Electronics', 49.99, 89);

INSERT INTO testuser.PRODUCTS (PRODUCT_ID, PRODUCT_NAME, CATEGORY, PRICE, STOCK_QUANTITY)
VALUES (1004, 'Mechanical Keyboard', 'Electronics', 149.99, 67);

INSERT INTO testuser.PRODUCTS (PRODUCT_ID, PRODUCT_NAME, CATEGORY, PRICE, STOCK_QUANTITY)
VALUES (1005, '27" Monitor', 'Electronics', 399.99, 34);

INSERT INTO testuser.PRODUCTS (PRODUCT_ID, PRODUCT_NAME, CATEGORY, PRICE, STOCK_QUANTITY)
VALUES (1006, 'Desk Chair', 'Furniture', 259.99, 23);

INSERT INTO testuser.PRODUCTS (PRODUCT_ID, PRODUCT_NAME, CATEGORY, PRICE, STOCK_QUANTITY)
VALUES (1007, 'Standing Desk', 'Furniture', 599.99, 12);

INSERT INTO testuser.PRODUCTS (PRODUCT_ID, PRODUCT_NAME, CATEGORY, PRICE, STOCK_QUANTITY)
VALUES (1008, 'Webcam HD', 'Electronics', 79.99, 56);

INSERT INTO testuser.PRODUCTS (PRODUCT_ID, PRODUCT_NAME, CATEGORY, PRICE, STOCK_QUANTITY)
VALUES (1009, 'Headphones', 'Electronics', 199.99, 78);

INSERT INTO testuser.PRODUCTS (PRODUCT_ID, PRODUCT_NAME, CATEGORY, PRICE, STOCK_QUANTITY)
VALUES (1010, 'Desk Lamp', 'Furniture', 45.99, 102);

-- Commit the changes
COMMIT;

-- Display success message
SELECT 'Database initialization completed successfully!' AS STATUS FROM DUAL;
